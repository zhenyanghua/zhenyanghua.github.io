<html>
<head>
  <title>Test</title>
</head>
<body>
  <style>
    .array {
      display: flex;
      width: fit-content;
      margin: 20px;
    }
    .item {
      border: 4px solid black;
      border-right: none;
      width: 30px;
      height: 30px;
      padding: 4px;
      font-size: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .item:last-child {
      border-right: 4px solid black;
    }
  </style>
<div id="text-kmp-1" class="array"></div>
<div id="pattern-kmp-1" class="array"></div>
<div id="text-kmp-2" class="array"></div>
<div id="pattern-kmp-2" class="array"></div>
<script>
  function visualizeArray(containerSelector, array, ...highlightRanges) {
    const container = document.querySelector(containerSelector);
    const highlights = Array.from(arguments).slice(2);
    console.debug('hili', highlights)
    container.innerHTML = array.map((x, i) => {
      let style = '';
      for (let {range, color} of highlights) {
        if (range.includes(i) || (range[0] < i && range[1] > i)) {
          style = 'background-color: ' + color + ';';
        }
      }
      return '<div class="item" style="' + style + '">' + x + '</div>'
    }).join('');
  }

  (function () {
    const red = '#e17474b0';
    const green = '#4caf5096';
    const blue = '#2196f37a';
    const textKmp1 = 'onionions';
    const patternKmp1 = 'onions';

    visualizeArray('#text-kmp-1', Array.from(textKmp1));
    visualizeArray('#pattern-kmp-1', Array.from(patternKmp1));

    visualizeArray('#text-kmp-2', Array.from(textKmp1), { range: [0, 4], color: green }, { range: [5], color: blue });
    visualizeArray('#pattern-kmp-2', Array.from(patternKmp1), { range: [0, 4], color: green }, { range: [5], color: red });
  })()
</script>
</body>
</html>