var t=t=>Math.random()*Math.floor(t),i=(i,e)=>t(e-i)+i,e=class{constructor(e,s,h=375){this.canvasHeight=s,this.offsetX=i(0,e-h),this.posXForAxisY=h/2,this.posX=0,this.posY=i(-50,0),this.initialAngle=t(2*Math.PI),this.size=i(1,3),this.radius=Math.sqrt(t(Math.pow(this.posXForAxisY,2)))}display(t){t.beginPath(),t.arc(this.posX,this.posY,this.size,0,2*Math.PI),t.fill()}update(t){let i=.6*t+this.initialAngle;return this.posX=this.offsetX+this.posXForAxisY+this.radius*Math.sin(i),this.posY+=Math.pow(this.size,.5),this.posY>this.canvasHeight?this:null}},s=class{constructor(t,{intensity:i=3,span:e=375}={}){i>5?i=5:i<1&&(i=1);const s=document.createElement("div"),h=window.getComputedStyle(t).getPropertyValue("padding-top"),n=window.getComputedStyle(t).getPropertyValue("padding-left");s.style.cssText=`position: relative; top: -${h}; left: -${n}; justify-self: start; align-self: start;`;const o=document.createElement("canvas");o.setAttribute("width",t.clientWidth),o.setAttribute("height",t.clientHeight),o.style.cssText="position: absolute; top: 0; left: 0; pointer-events: none; background: transparent;",s.append(o),t.prepend(s),this.ctx=o.getContext("2d"),this.width=o.getBoundingClientRect().width,this.height=o.getBoundingClientRect().height,this.stopped=!0,this.intensity=i,this.span=e;new ResizeObserver(i=>{for(let e of i)e.target===t&&(o.setAttribute("width",e.target.clientWidth),o.setAttribute("height",e.target.clientHeight),this.width=o.getBoundingClientRect().width,this.height=o.getBoundingClientRect().height)}).observe(t)}paintBackground(){this.ctx.fillStyle="black",this.ctx.globalCompositeOperation="destination-out",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="source-over"}start(){if(!this.stopped)return;this.stopped=!1;const i=[],s=performance.now();requestAnimationFrame(function h(n){this.paintBackground(),this.ctx.fillStyle="rgb(240, 240, 240)";const o=t(this.intensity*this.width/this.span);for(let t=0;!this.stopped&&t<o;t++)i.push(new e(this.width,this.height,this.span));for(let t of i){const e=(n-s)/1e3,h=t.update(e);if(h){const t=i.indexOf(h);i.splice(t,1)}t.display(this.ctx)}this.stopped&&0===i.length||requestAnimationFrame(h.bind(this))}.bind(this))}stop(){this.stopped=!0}};export default s;