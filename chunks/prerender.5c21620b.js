import{n as e,v as t,p as r,q as n}from"../index.e74eacfc.js";var a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function o(e){"string"!=typeof e&&(e=String(e));for(var t="",r=0;r<e.length;r++){var n=e[r];switch(n){case"<":t+="&lt;";break;case">":t+="&gt;";break;case'"':t+="&quot;";break;case"&":t+="&amp;";break;default:t+=n}}return t}var i=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"\t"))},l=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},s={};function f(e){var t="";for(var r in e){var n=e[r];null!=n&&(t&&(t+=" "),t+="-"==r[0]?r:s[r]||(s[r]=r.replace(/([A-Z])/g,"-$1").toLowerCase()),t+=": ",t+=n,"number"==typeof n&&!1===a.test(r)&&(t+="px"),t+=";")}return t||void 0}function c(e,t){for(var r in t)e[r]=t[r];return e}function u(e,t){return Array.isArray(t)?t.reduce(u,e):null!=t&&!1!==t&&e.push(t),e}var p={shallow:!0},_=[],h=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,v=function(){};g.render=g;var d=[];function g(n,a,s){var p=function n(a,s,p,d,g,m){if(null==a||"boolean"==typeof a)return"";Array.isArray(a)&&(a=t(r,null,a));var y=a.type,x=a.props,b=!1;s=s||{};var S,w=(p=p||{}).pretty,k=w&&"string"==typeof w?w:"\t";if("object"!=typeof a&&!y)return o(a);if("function"==typeof y){if(b=!0,!p.shallow||!d&&!1!==p.renderRootComponent){if(y===r){var O="",C=[];u(C,a.props.children);for(var A=0;A<C.length;A++)O+=(A>0&&w?"\n":"")+n(C[A],s,p,!1!==p.shallowHighOrder,g,m);return O}var j,H=a.__c={__v:a,context:s,props:a.props,setState:v,forceUpdate:v,__h:[]};if(e.__b&&e.__b(a),e.__r&&e.__r(a),y.prototype&&"function"==typeof y.prototype.render){var F=y.contextType,$=F&&s[F.__c],L=null!=F?$?$.props.value:F.__:s;(H=a.__c=new y(x,L)).__v=a,H._dirty=H.__d=!0,H.props=x,null==H.state&&(H.state={}),null==H._nextState&&null==H.__s&&(H._nextState=H.__s=H.state),H.context=L,y.getDerivedStateFromProps?H.state=c(c({},H.state),y.getDerivedStateFromProps(H.props,H.state)):H.componentWillMount&&(H.componentWillMount(),H.state=H._nextState!==H.state?H._nextState:H.__s!==H.state?H.__s:H.state),j=H.render(H.props,H.state,H.context)}else{var M=y.contextType,T=M&&s[M.__c],D=null!=M?T?T.props.value:M.__:s;j=y.call(a.__c,x,D)}return H.getChildContext&&(s=c(c({},s),H.getChildContext())),e.diffed&&e.diffed(a),n(j,s,p,!1!==p.shallowHighOrder,g,m)}y=(S=y).displayName||S!==Function&&S.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=_.length;n--;)if(_[n]===e){r=n;break}r<0&&(r=_.push(e)-1),t="UnnamedComponent"+r}return t}(S)}var E,N,P="";if(x){var R=Object.keys(x);p&&!0===p.sortAttributes&&R.sort();for(var U=0;U<R.length;U++){var W=R[U],q=x[W];if("children"!==W){if(!W.match(/[\s\n\\/='"\0<>]/)&&(p&&p.allAttributes||"key"!==W&&"ref"!==W&&"__self"!==W&&"__source"!==W&&"defaultValue"!==W)){if("className"===W){if(x.class)continue;W="class"}else g&&W.match(/^xlink:?./)&&(W=W.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===W){if(x.for)continue;W="for"}"style"===W&&q&&"object"==typeof q&&(q=f(q)),"a"===W[0]&&"r"===W[1]&&"boolean"==typeof q&&(q=String(q));var z=p.attributeHook&&p.attributeHook(W,q,s,p,b);if(z||""===z)P+=z;else if("dangerouslySetInnerHTML"===W)N=q&&q.__html;else if("textarea"===y&&"value"===W)E=q;else if((q||0===q||""===q)&&"function"!=typeof q){if(!(!0!==q&&""!==q||(q=W,p&&p.xml))){P+=" "+W;continue}if("value"===W){if("select"===y){m=q;continue}"option"===y&&m==q&&(P+=" selected")}P+=" "+W+'="'+o(q)+'"'}}}else E=q}}if(w){var I=P.replace(/^\n\s*/," ");I===P||~I.indexOf("\n")?w&&~P.indexOf("\n")&&(P+="\n"):P=I}if(P="<"+y+P+">",String(y).match(/[\s\n\\/='"\0<>]/))throw new Error(y+" is not a valid HTML tag name in "+P);var V,Z=String(y).match(h)||p.voidElements&&String(y).match(p.voidElements),B=[];if(N)w&&l(N)&&(N="\n"+k+i(N,k)),P+=N;else if(null!=E&&u(V=[],E).length){for(var G=w&&~P.indexOf("\n"),J=!1,K=0;K<V.length;K++){var Q=V[K];if(null!=Q&&!1!==Q){var X=n(Q,s,p,!0,"svg"===y||"foreignObject"!==y&&g,m);if(w&&!G&&l(X)&&(G=!0),X)if(w){var Y=X.length>0&&"<"!=X[0];J&&Y?B[B.length-1]+=X:B.push(X),J=Y}else B.push(X)}}if(w&&G)for(var ee=B.length;ee--;)B[ee]="\n"+k+i(B[ee],k)}if(B.length||N)P+=B.join("");else if(p&&p.xml)return P.substring(0,P.length-1)+" />";return!Z||V||N?(w&&~P.indexOf("\n")&&(P+="\n"),P+="</"+y+">"):P=P.replace(/>$/," />"),P}(n,a,s);return e.__c&&e.__c(n,d),p}let m;g.shallowRender=function(e,t){return g(e,t,p)};const y=e.vnode;e.vnode=e=>{y&&y(e),m&&m(e)};export default async function(e,r){const a=(r=r||{}).maxDepth||10,o=r.props;let i=0;"function"==typeof e?e=t(e,o):o&&(e=n(e,o));const l=()=>{if(!(++i>a))try{return g(e)}catch(t){if(t&&t.then)return t.then(l);throw t}};let s=new Set;m=({type:e,props:t})=>{"a"!==e||!t||!t.href||t.target&&"_self"!==t.target||s.add(t.href)};try{let e=await l();return e+='<script type="isodata"><\/script>',{html:e,links:s}}finally{m=null}}