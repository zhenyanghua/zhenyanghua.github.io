<!DOCTYPE html>
<html lang="en">
<head><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WQ9YVRG232"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-WQ9YVRG232');
</script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="description" content="This article shares a different behavior in IE than Chrome when expecting to set a cookie.</p>
">
<title>IE Won't Set Cookie - Zhenyang Hua</title>
  <link rel="stylesheet" href="/assets/global.0c899d99.css">
<link rel="stylesheet" href="/assets/style.module.184703f0.css"></head>
<body><div id="contentcontainer" class="shadow"><div class="host_1vq48fc" style="background-color: rgb(19, 217, 193);"><header><div class="host_1q8y6om"><a href="#maincontent">skip to main content</a></div><div class="host_216t9o"><h2 class="title_216t9o"><a href="/">Zhenyang Hua</a></h2></div><div class="host_m2uvri"><nav><h2 class="hidden">Main Navigation</h2><ul><li><a href="/" class="link_m2uvri">Tools</a></li><li><a href="/writings/1" class="link_m2uvri">Writings</a></li></ul></nav></div><div class="host_1c336ft"><span>This is a space that holds a collection of my personal work and ideas</span></div></header></div><main id="maincontent"><div class="post_14b9dxr"><h1 class="title_14b9dxr">IE Won't Set Cookie</h1><p class="date_14b9dxr">Posted on 11/13/2018</p><div class="summary_14b9dxr"><p>This article shares a different behavior in IE than Chrome when expecting to set a cookie.</p>
</div><article><p>I have a client app that using javascript to set the cookie for URL: <a href="http://localhost/login">http://localhost/login</a></p>
<p>The code looks like this:</p>
<div class="codeblock">
  <pre class="language-javascript"><span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token string">"_s="</span> <span class="token operator">+</span> sessionId <span class="token operator">+</span> <span class="token string">";path='/';max-age=36000"</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> c<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Cookie"</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span></pre>  
</div><p>In chrome, it prints out:</p>
<div class="codeblock">
  <pre>c _s=1b022d51-00c3-4a40-a105-35c638986354;path=&#39;/&#39;;max-age=36000
Cookie _s=1b022d51-00c3-4a40-a105-35c638986354</pre>
</div><p>But in IE (11 or edge 17)</p>
<p>It prints out:</p>
<div class="codeblock">
  <pre>c _s=1b022d51-00c3-4a40-a105-35c638986354;path=&#39;/&#39;;max-age=36000
Cookie </pre>
</div><p>I have enabled setting cookie option in the internet option, but still got nothing back after setting the cookie.</p>
<p>It turns out IE doesn&#39;t like the quotes around the <code>path</code> option, while other browsers aren&#39;t that picky.</p>
<p>Remove the quote resolves the problem.</p>
</article><h2 class="github_14b9dxr"><a target="_blank" href="https://github.com/zhenyanghua/zhenyanghua.github.io/blob/master/posts/2018/11/ie-wont-set-cookie/index.md">Read on GitHub</a></h2></div></main></div><script type="isodata"></script>
  <script type="module" src="/index.3f0829f1.js"></script>
</body>
</html>

